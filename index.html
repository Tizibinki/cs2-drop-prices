<!DOCTYPE html>
<html>
<head>
  <title>CS2 Drop Prices - USP-S Printstream</title>
  <meta charset="UTF-8">
</head>
<body>
  <h1>CS2 Drop Prices</h1>
  <button onclick="getPrice()">Check USP-S | Printstream Price</button>
  <pre id="priceDisplay">Price data will appear here.</pre>

  <script>
  async function getPrice() {
    const itemName = "USP-S | Printstream (Field-Tested)";
    const steamApiUrl = `https://steamcommunity.com/market/priceoverview/?appid=730&currency=1&market_hash_name=${encodeURIComponent(itemName)}`;
    const proxyUrl = `https://steam-api-fetch.tizibinki.workers.dev/?url=${encodeURIComponent(steamApiUrl)}`;

    try {
      const response = await fetch(proxyUrl);
      const data = await response.json();

      // Display full raw JSON
      document.getElementById("priceDisplay").innerText = JSON.stringify(data, null, 2);
    } catch (err) {
      document.getElementById("priceDisplay").innerText = "Error: Could not fetch data.";
    }
  }
</script>
</body>
</html>
