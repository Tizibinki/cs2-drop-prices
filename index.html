<!DOCTYPE html>
<html>
<head>
  <title>CS2 Drop Prices - USP-S Printstream</title>
  <meta charset="UTF-8">
</head>
<body>
  <h1>CS2 Drop Prices</h1>
  <button onclick="getPrice()">Check USP-S | Printstream Price</button>
  <p id="priceDisplay">Price will appear here.</p>

  <script>
    async function getPrice() {
      const itemName = "USP-S | Printstream (Field-Tested)";
      const steamApiUrl = `https://steamcommunity.com/market/priceoverview/?appid=730&currency=1&market_hash_name=${encodeURIComponent(itemName)}`;
      const proxyUrl = `https://steam-api-fetch.tizibinki.workers.dev/?url=${encodeURIComponent(steamApiUrl)}`;

      try {
        const response = await fetch(proxyUrl);
        const data = await response.json();

        if (data.success) {
          document.getElementById("priceDisplay").innerText = `Current price: ${data.lowest_price}`;
        } else {
          document.getElementById("priceDisplay").innerText = "Item not found or failed to fetch.";
        }
      } catch (err) {
        document.getElementById("priceDisplay").innerText = "Error: Could not fetch price.";
      }
    }
  </script>
</body>
</html>
